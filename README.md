## nextjs - server - action

* 서버 액션은 서버에서 실행되는 비동기 함수입니다.
서버 및 클라이언트 컴포넌트에서 호출하여 Next.js 애플리케이션에서 양식 제출 및 데이터 변형을 처리할 수 있습니다.

* 서버 액션은 React "use server" 지시어로 정의할 수 있습니다. 비동기 함수의 맨 위에 지시어를 배치하여 해당 함수를 서버 액션으로 표시하거나(서버 컴포넌트), 별도의 파일 상단에 배치하여 해당 파일의 모든 내보내기를 서버 액션으로 표시(클라이언트 컴포넌트)할 수 있습니다.

* 서버 컴포넌트는 인라인 함수 수준 또는 모듈 수준의 "서버 사용" 지시문을 사용할 수 있습니다. 서버 액션을 인라인하려면 함수 본문 상단에 "use server"를 추가합니다.
  * 서버액션이 있는 컴포넌트가 서버 컴포넌트가 됩니다.


```javascript
export default function ServerComponent(){
  async function myAction(){
    "use server";
    // ...
  }
  return <div></div>
}

```

* 클라이언트 컴포넌트에서 서버 액션을 호출하려면 새 파일을 만들고 그 상단에 "use server" 지시문을 추가합니다. 파일 내에서 내보낸 모든 함수는 클라이언트 컴포넌트와 서버 컴포넌트 모두에서 재사용할 수 있는 서버 액션으로 표시됩니다: